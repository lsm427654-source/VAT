# 부가세 계산기 앱 - PRD (Product Requirements Document)

## 1. 제품 개요

### 1.1 목적
부가세(VAT) 계산을 간편하게 수행할 수 있는 모바일 우선 웹 애플리케이션을 개발하여, 사용자가 공급가액과 부가세를 빠르게 계산하고 확인할 수 있도록 지원합니다.

### 1.2 타겟 사용자
- 소상공인 및 자영업자
- 회계 담당자
- 일반 소비자 (세금 계산이 필요한 모든 사용자)

### 1.3 핵심 가치 제안
- **직관적인 UI**: 모바일 최적화된 깔끔한 인터페이스
- **빠른 계산**: 숫자 키패드를 통한 즉각적인 입력 및 계산
- **다크 모드 지원**: 사용자 환경에 맞는 테마 제공
- **간편한 공유**: 계산 결과 복사 기능

---

## 2. 기능 요구사항

### 2.1 핵심 기능

#### 2.1.1 부가세 계산 모드
**우선순위**: P0 (필수)

**설명**: 두 가지 계산 모드 제공
- **부가세 포함**: 총 금액에서 공급가액과 부가세를 역산
  - 입력: 총 금액 (부가세 포함)
  - 출력: 공급가액, 부가세(10%), 합계금액
  - 계산 공식:
    - 공급가액 = 총 금액 ÷ 1.1
    - 부가세 = 공급가액 × 0.1
    
- **부가세 별도**: 공급가액에서 부가세와 총 금액을 계산
  - 입력: 공급가액 (부가세 미포함)
  - 출력: 공급가액, 부가세(10%), 합계금액
  - 계산 공식:
    - 부가세 = 공급가액 × 0.1
    - 합계금액 = 공급가액 + 부가세

**인터랙션**:
- 세그먼트 컨트롤을 통한 모드 전환
- 모드 변경 시 즉시 재계산
- 선택된 모드는 시각적으로 강조 (파란색 배경)

#### 2.1.2 숫자 입력 시스템
**우선순위**: P0 (필수)

**설명**: 전용 숫자 키패드를 통한 금액 입력
- **키패드 레이아웃**: 3×4 그리드
  - 숫자: 0-9
  - 특수 버튼: "00" (빠른 입력), 백스페이스 (삭제)
- **입력 제한**:
  - 최대 입력 자릿수: 12자리 (9,999,999,999,999원)
  - 숫자만 입력 가능 (소수점 불가)
- **표시 형식**:
  - 천 단위 콤마 자동 삽입 (예: 1,000,000)
  - 실시간 포맷팅

**인터랙션**:
- 버튼 탭 시 시각적 피드백 (scale 애니메이션)
- 백스페이스: 마지막 자릿수 삭제
- 0 입력 시 선행 0 방지

#### 2.1.3 실시간 계산 및 결과 표시
**우선순위**: P0 (필수)

**설명**: 입력과 동시에 자동 계산 및 결과 표시
- **결과 카드 구성**:
  - 공급가액: 일반 텍스트 (검정/흰색)
  - 부가세: 강조 표시 (파란색) + "10%" 배지
  - 합계금액: 굵은 텍스트로 강조
  - 구분선으로 시각적 분리

**숫자 포맷팅**:
- 천 단위 콤마 구분
- 원화 단위 표시 ("원")
- 소수점 이하 반올림 처리

#### 2.1.4 초기화 기능
**우선순위**: P0 (필수)

**설명**: 입력값 및 계산 결과 초기화
- **동작**:
  - 입력 금액을 0으로 리셋
  - 계산 결과 초기화
  - 선택된 모드는 유지
- **UI**: 새로고침 아이콘 버튼

#### 2.1.5 복사 기능
**우선순위**: P0 (필수)

**설명**: 계산 결과를 클립보드에 복사
- **복사 형식** (예시):
  ```
  [부가세 포함]
  입력 금액: 1,000,000원
  공급가액: 909,091원
  부가세(10%): 90,909원
  합계금액: 1,000,000원
  ```
- **피드백**: 복사 완료 시 토스트 메시지 표시
- **UI**: 복사 아이콘 버튼 (파란색 강조)

### 2.2 부가 기능

#### 2.2.1 설정 기능
**우선순위**: P1 (중요)

**설명**: 앱 설정 관리
- **설정 항목**:
  - 다크 모드 토글 (자동/라이트/다크)
  - 부가세율 커스터마이징 (기본 10%)
  - 소수점 처리 방식 (반올림/올림/내림)
  - 기본 모드 설정 (포함/별도)
- **UI**: 헤더의 설정 아이콘 버튼

#### 2.2.2 계산 히스토리
**우선순위**: P1 (중요)

**설명**: 과거 계산 기록 저장 및 조회
- **저장 정보**:
  - 계산 모드
  - 입력 금액
  - 계산 결과 (공급가액, 부가세, 합계)
  - 계산 시간
- **기능**:
  - 최근 20개 기록 저장
  - 기록 탭하여 재사용
  - 기록 삭제 (스와이프 또는 편집 모드)
- **UI**: 헤더의 히스토리 아이콘 버튼

#### 2.2.3 물리 키보드 입력 지원
**우선순위**: P0 (필수)

**설명**: PC/데스크톱 환경에서 물리 키보드 입력 지원
- **입력 방식**:
  - **모바일/태블릿**: 화면의 커스텀 숫자 키패드만 사용
  - **PC/데스크톱**: 화면 키패드 + 물리 키보드 병행 지원
- **지원 키**:
  - 숫자 키 (0-9, 숫자패드 포함)
  - Backspace/Delete: 마지막 자릿수 삭제
  - Enter: 계산 결과 복사
  - Escape: 초기화
  - Tab: 모드 전환 (부가세 포함 ↔ 별도)
- **시각적 피드백**: 키보드 입력 시에도 해당 화면 버튼에 애니메이션 표시

---

## 3. UI/UX 요구사항

### 3.1 디자인 시스템

#### 3.1.1 색상 팔레트
- **Primary**: `#137fec` (파란색 - 강조 요소)
- **라이트 모드**:
  - Background: `#f6f7f8`
  - Surface: `#ffffff`
  - Text: `#111418`
- **다크 모드**:
  - Background: `#101922`
  - Surface: `#1a232d`
  - Text: `#ffffff`
- **보조 색상**:
  - Gray 계열 (텍스트, 구분선)

#### 3.1.2 타이포그래피
- **폰트 패밀리**: Manrope (Google Fonts)
- **폰트 크기**:
  - 입력 금액: 36-48px (Extra Bold)
  - 합계금액: 20px (Extra Bold)
  - 부가세: 18px (Bold)
  - 공급가액: 16px (Bold)
  - 레이블: 14px (Medium)
  - 버튼: 14px (Bold)

#### 3.1.3 간격 및 레이아웃
- **여백**: 4px 단위 시스템 (4, 8, 12, 16, 20, 24px)
- **둥근 모서리**:
  - 카드: 16px
  - 버튼: 8-16px
  - 세그먼트 컨트롤: 12px
- **그림자**: 미세한 그림자로 깊이감 표현

### 3.2 반응형 디자인
- **모바일 우선**: 320px ~ 480px 최적화
- **태블릿**: 최대 너비 448px (md breakpoint)
- **데스크톱**: 중앙 정렬, 최대 너비 제한

### 3.3 인터랙션 및 애니메이션
- **버튼 프레스 효과**: `scale(0.96)` 애니메이션
- **호버 효과**: 배경색 변화 (투명도 조정)
- **모드 전환**: 부드러운 전환 애니메이션
- **결과 업데이트**: 페이드 인 효과 (선택사항)

### 3.4 접근성
- **색상 대비**: WCAG AA 기준 준수
- **터치 타겟**: 최소 44×44px
- **스크린 리더**: 적절한 ARIA 레이블
- **키보드 네비게이션**: 포커스 표시

---

## 4. 기술 요구사항

### 4.1 프론트엔드
- **프레임워크**: HTML5, CSS3, JavaScript (Vanilla 또는 React/Vue)
- **CSS 프레임워크**: Tailwind CSS
- **아이콘**: Material Symbols (Google)
- **폰트**: Google Fonts (Manrope)

### 4.2 브라우저 지원
- **모바일**:
  - iOS Safari 14+
  - Chrome for Android 90+
- **데스크톱**:
  - Chrome 90+
  - Firefox 88+
  - Safari 14+
  - Edge 90+

### 4.3 성능 요구사항
- **초기 로딩**: 2초 이내
- **계산 응답 시간**: 즉각 (< 100ms)
- **애니메이션**: 60fps 유지

### 4.4 데이터 저장
- **로컬 스토리지**: 
  - 사용자 설정 저장
  - 계산 히스토리 저장 (최대 20개)
- **쿠키**: 다크 모드 설정 (선택사항)

---

## 5. 비기능 요구사항

### 5.1 사용성
- **학습 곡선**: 첫 사용자도 5초 내 사용법 이해
- **효율성**: 3번의 탭으로 계산 완료

### 5.2 신뢰성
- **정확도**: 부가세 계산 100% 정확
- **오류 처리**: 
  - 잘못된 입력 방지
  - 오버플로우 처리

### 5.3 유지보수성
- **코드 구조**: 모듈화된 컴포넌트
- **주석**: 핵심 로직 문서화
- **테스트**: 계산 로직 단위 테스트

### 5.4 확장성
- **다국어 지원**: i18n 구조 준비
- **세율 변경**: 설정에서 세율 조정 가능
- **추가 기능**: 플러그인 구조 고려

---

## 6. 사용자 시나리오

### 6.1 시나리오 1: 부가세 포함 금액 계산
**상황**: 식당 주인이 100만원 매출에서 부가세를 확인하고 싶음

1. 앱 실행
2. "부가세 포함" 모드 선택 (기본값)
3. 키패드로 "1000000" 입력
4. 결과 확인:
   - 공급가액: 909,091원
   - 부가세: 90,909원
5. "복사하기" 버튼으로 결과 복사
6. 회계 프로그램에 붙여넣기

### 6.2 시나리오 2: 부가세 별도 금액 계산
**상황**: 프리랜서가 견적서 작성 시 공급가액 500만원에 대한 부가세 계산

1. 앱 실행
2. "부가세 별도" 모드 선택
3. 키패드로 "5000000" 입력
4. 결과 확인:
   - 공급가액: 5,000,000원
   - 부가세: 500,000원
   - 합계금액: 5,500,000원
5. 히스토리에 자동 저장

### 6.3 시나리오 3: 다크 모드 사용
**상황**: 야간에 앱 사용 시 눈의 피로 감소

1. 설정 버튼 탭
2. "다크 모드" 토글 활성화
3. 화면이 어두운 테마로 전환
4. 설정 자동 저장

---

## 7. 성공 지표 (KPI)

### 7.1 사용자 지표
- **일일 활성 사용자(DAU)**: 목표 1,000명 (출시 3개월 후)
- **재방문율**: 40% 이상
- **평균 세션 시간**: 30초 ~ 1분

### 7.2 기능 지표
- **계산 완료율**: 95% 이상
- **복사 기능 사용률**: 60% 이상
- **히스토리 조회율**: 30% 이상

### 7.3 기술 지표
- **페이지 로드 시간**: 평균 1.5초 이하
- **오류율**: 0.1% 이하
- **크래시율**: 0.01% 이하

---

## 8. 출시 계획

### 8.1 MVP (Minimum Viable Product)
**포함 기능**:
- ✅ 부가세 포함/별도 계산
- ✅ 숫자 키패드 입력 (화면 + 물리 키보드)
- ✅ 실시간 계산 결과
- ✅ 초기화 기능
- ✅ 복사 기능
- ✅ 다크 모드

**제외 기능** (추후 업데이트):
- ⏳ 계산 히스토리
- ⏳ 설정 페이지 (세율 커스터마이징 등)

### 8.2 로드맵

#### Phase 1: MVP 출시 (Week 1-2)
- 핵심 계산 기능 구현
- 기본 UI/UX 완성
- 모바일 최적화

#### Phase 2: 기능 확장 (Week 3-4)
- 히스토리 기능 추가
- 설정 페이지 구현
- 사용자 피드백 반영

#### Phase 3: 고도화 (Week 5-6)
- 성능 최적화
- 접근성 개선
- PWA 변환 (오프라인 지원)

---

## 9. 리스크 및 대응 방안

### 9.1 기술적 리스크
| 리스크 | 영향도 | 대응 방안 |
|--------|--------|-----------|
| 브라우저 호환성 문제 | 중 | Polyfill 사용, 크로스 브라우저 테스트 |
| 계산 정확도 오류 | 높음 | 철저한 단위 테스트, 반올림 로직 검증 |
| 성능 저하 | 중 | 코드 최적화, 디바운싱 적용 |

### 9.2 사용자 경험 리스크
| 리스크 | 영향도 | 대응 방안 |
|--------|--------|-----------|
| 복잡한 UI | 중 | 사용자 테스트, 온보딩 튜토리얼 |
| 입력 오류 | 낮음 | 입력 검증, 명확한 피드백 |

---

## 10. 부록

### 10.1 용어 정의
- **공급가액**: 부가세를 제외한 순수 상품/서비스 가격
- **부가세(VAT)**: 부가가치세, 한국 기준 10%
- **합계금액**: 공급가액 + 부가세

### 10.2 참고 자료
- 국세청 부가가치세 계산 가이드
- Material Design 3 가이드라인
- WCAG 2.1 접근성 기준

### 10.3 변경 이력
| 버전 | 날짜 | 변경 내용 | 작성자 |
|------|------|-----------|--------|
| 1.0 | 2025-12-24 | 초안 작성 | - |

---

## 문의 및 피드백
PRD에 대한 질문이나 수정 요청은 프로젝트 관리자에게 문의해주세요.
